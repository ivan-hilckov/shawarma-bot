# üìã –û—Ç—á–µ—Ç: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Docker –¥–ª—è –®–∞—É—Ä–º–∞ –ë–æ—Ç–∞

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. üê≥ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

- **Dockerfile** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–±—Ä–∞–∑ —Å Node.js 18 Alpine
- **docker-compose.yml** - –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è 3 —Å–µ—Ä–≤–∏—Å–æ–≤
- **.dockerignore** - –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ–Ω—É–∂–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –Ω–µ–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

### 2. üêò PostgreSQL –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

- **PostgreSQL 15** –≤ Alpine –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
- **init.sql** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î
- **–ì–æ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞** - —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –º–µ–Ω—é, –∑–∞–∫–∞–∑–æ–≤, –∫–æ—Ä–∑–∏–Ω—ã
- **–ò–Ω–¥–µ–∫—Å—ã –∏ —Ç—Ä–∏–≥–≥–µ—Ä—ã** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### 3. üîß pgAdmin –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

- **pgAdmin 4** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ë–î
- **–ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** - –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ
- **–î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä** - http://localhost:8080

### 4. üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Å–∫—Ä–∏–ø—Ç—ã

- **DOCKER.md** - –ø–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **QUICKSTART.md** - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- **docker.env.example** - –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- **npm —Å–∫—Ä–∏–ø—Ç—ã** - —É–¥–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Telegram Bot  ‚îÇ    ‚îÇ   PostgreSQL    ‚îÇ    ‚îÇ     pgAdmin     ‚îÇ
‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ
‚îÇ  shawarma-bot   ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇshawarma-postgres‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇshawarma-pgadmin ‚îÇ
‚îÇ   (Node.js)     ‚îÇ    ‚îÇ   (Port 5432)   ‚îÇ    ‚îÇ   (Port 8080)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                       ‚îÇ                       ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ shawarma-network‚îÇ
                    ‚îÇ   (Bridge)      ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã:

- **users** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ Telegram
- **categories** - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –º–µ–Ω—é (—à–∞—É—Ä–º–∞, –Ω–∞–ø–∏—Ç–∫–∏)
- **menu_items** - —Ç–æ–≤–∞—Ä—ã —Å —Ü–µ–Ω–∞–º–∏
- **orders** - –∑–∞–∫–∞–∑—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **order_items** - —ç–ª–µ–º–µ–Ω—Ç—ã –∑–∞–∫–∞–∑–æ–≤
- **cart_items** - –∫–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

- ‚úÖ –ê–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç ID
- ‚úÖ –í–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏ –∏ —Å–≤—è–∑–∏
- ‚úÖ –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –¢—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è updated_at
- ‚úÖ –ù–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

## üöÄ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
npm run docker:up      # –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
npm run docker:down    # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
npm run docker:logs    # –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –±–æ—Ç–∞
npm run docker:restart # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
```

### Docker Compose –∫–æ–º–∞–Ω–¥—ã:

```bash
docker-compose up -d           # –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ
docker-compose logs -f bot     # –õ–æ–≥–∏ –±–æ—Ç–∞
docker-compose logs -f postgres # –õ–æ–≥–∏ –ë–î
docker-compose ps              # –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
```

### –†–∞–±–æ—Ç–∞ —Å –ë–î:

```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
docker exec -it shawarma-postgres psql -U shawarma_user -d shawarma_db

# –ë—ç–∫–∞–ø –ë–î
docker exec shawarma-postgres pg_dump -U shawarma_user shawarma_db > backup.sql

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î
docker exec -i shawarma-postgres psql -U shawarma_user -d shawarma_db < backup.sql
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env):

```env
BOT_TOKEN=your_telegram_bot_token
NODE_ENV=production
DATABASE_URL=postgresql://shawarma_user:shawarma_pass@postgres:5432/shawarma_db
```

### –ü–æ—Ä—Ç—ã:

- **5432** - PostgreSQL
- **8080** - pgAdmin
- **3000** - –ó–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω –¥–ª—è –±—É–¥—É—â–µ–≥–æ API

## üìà –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Docker setup

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

- ‚úÖ **–ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ä–µ–¥–∞** - –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å–∏—Å—Ç–µ–º—É
- ‚úÖ **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç** - –æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞
- ‚úÖ **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –æ–¥–∏–Ω–∞–∫–æ–≤–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ
- ‚úÖ **–õ–µ–≥–∫–∞—è –æ—á–∏—Å—Ç–∫–∞** - `docker-compose down -v`

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:

- ‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ–ø–ª–∏–∫–∏
- ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏
- ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è** - rolling updates
- ‚úÖ **–ë—ç–∫–∞–ø—ã** - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ volumes

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–æ–¥–æ–º

- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `pg` (PostgreSQL –∫–ª–∏–µ–Ω—Ç)
- [ ] –°–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
- [ ] –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø–∞–º—è—Ç–∏ –≤ PostgreSQL

### 2. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

- [ ] –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] –ö–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫
- [ ] –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤
- [ ] –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤

### 3. –£–ª—É—á—à–µ–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

- [ ] Health checks –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã
- [ ] CI/CD pipeline
- [ ] Backup —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

## üéØ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

### ‚úÖ –ì–æ—Ç–æ–≤–æ:

- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –°–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### üöß –¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏:

- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–¥–∞ –∫ –ë–î
- –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- –°–µ–∫—Ä–µ—Ç—ã management

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### TypeScript —Ç–µ—Å—Ç—ã:

- **45 —Ç–µ—Å—Ç–æ–≤** - –≤—Å–µ –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ ‚úÖ
- **–ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞**: 58.01% statements, 54.83% branches
- **100% –ø–æ–∫—Ä—ã—Ç–∏–µ**: config.ts, handlers.ts, menu.ts ‚úÖ

### Docker —Å–±–æ—Ä–∫–∞:

- **Dockerfile** - —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ ‚úÖ
- **–û–±—Ä–∞–∑**: 373MB (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π) ‚úÖ
- **TypeScript –∫–æ–º–ø–∏–ª—è—Ü–∏—è** –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ ‚úÖ

### PostgreSQL:

- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä** –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ ‚úÖ
- **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î** - –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã ‚úÖ
- **–ù–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** –∑–∞–≥—Ä—É–∂–µ–Ω—ã ‚úÖ
- **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞:

- **npm run dev** —Å Docker PostgreSQL ‚úÖ
- **–ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ä–µ–¥–∞** —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ

### –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

- **pgAdmin email** - —Ç—Ä–µ–±—É–µ—Ç –≤–∞–ª–∏–¥–Ω—ã–π email (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ)
- **Docker Compose version** - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–ª–Ω–∞—è Docker –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ. –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è TypeScript –∫–æ–¥–∞ —Å PostgreSQL.
