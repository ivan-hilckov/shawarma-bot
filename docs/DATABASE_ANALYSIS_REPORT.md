# üìä –û—Ç—á–µ—Ç: –ê–Ω–∞–ª–∏–∑ –ë–î –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ API

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### ‚úÖ 1. –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã PostgreSQL

**–ò–∑—É—á–µ–Ω—ã —Ñ–∞–π–ª—ã:**

- `init.sql` - —Å—Ö–µ–º–∞ –ë–î –∏ –Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `docker-compose.yml` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è PostgreSQL
- `src/database.ts` - —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –ë–î
- `menu.csv` - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –º–µ–Ω—é

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–ª–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏–∑ 6 —Ç–∞–±–ª–∏—Ü —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Å–≤—è–∑—è–º–∏.

### ‚úÖ 2. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ö–µ–º—ã –ë–î

**–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª:** [`docs/DATABASE_SCHEMA.md`](./DATABASE_SCHEMA.md)

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**

- üìã –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö 6 —Ç–∞–±–ª–∏—Ü
- üèóÔ∏è ASCII –¥–∏–∞–≥—Ä–∞–º–º–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- üîç –ü–æ–ª–µ–∑–Ω—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- üìä ERD —Å—Ö–µ–º–∞ —Å–≤—è–∑–µ–π
- üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### ‚úÖ 3. –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ REST API

**–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª:** [`docs/API_PLAN.md`](./API_PLAN.md)

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**

- üì° 15+ API endpoints (—Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ)
- üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Express.js + TypeScript
- üîí –°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å API –∫–ª—é—á–∞–º–∏
- üìù Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- üöÄ –ü–æ—ç—Ç–∞–ø–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (5 —Ñ–∞–∑)

### ‚úÖ 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ README.md

**–î–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª:** "–ü–ª–∞–Ω—ã –Ω–∞ –≤–µ—Ä—Å–∏—é 3.0.0"

**–í–∫–ª—é—á–∞–µ—Ç:**

- –ö—Ä–∞—Ç–∫–∏–π –æ–±–∑–æ—Ä –ø–ª–∞–Ω–∏—Ä—É–µ–º–æ–≥–æ API
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞
- –û—Å–Ω–æ–≤–Ω—ã–µ endpoints
- –≠—Ç–∞–ø—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

## üìä –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î

### üóÑÔ∏è –¢–∞–±–ª–∏—Ü—ã –∏ —Å–≤—è–∑–∏

```
users (1) ‚îÄ‚îÄ‚îÄ‚îÄ (N) orders (1) ‚îÄ‚îÄ‚îÄ‚îÄ (N) order_items (N) ‚îÄ‚îÄ‚îÄ‚îÄ (1) menu_items
  ‚îÇ                                                              ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ (1) ‚îÄ‚îÄ‚îÄ‚îÄ (N) cart_items (N) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ (1) ‚îò
                                                                   ‚îÇ
                                    categories (1) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ (N) ‚îò
```

### üìà –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **users** - Telegram User ID –∫–∞–∫ PRIMARY KEY (BIGINT)
2. **menu_items** - 15 —Ç–æ–≤–∞—Ä–æ–≤ —Å —Ü–µ–Ω–∞–º–∏ 60-350‚ÇΩ
3. **orders** - 5 —Å—Ç–∞—Ç—É—Å–æ–≤ (pending ‚Üí confirmed ‚Üí preparing ‚Üí ready ‚Üí delivered)
4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - –∏–Ω–¥–µ–∫—Å—ã –Ω–∞ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–æ–ª—è
5. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** - —Ç—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è updated_at

### üí∞ –î–∞–Ω–Ω—ã–µ –º–µ–Ω—é

- **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏:** 2 (—à–∞—É—Ä–º–∞ üåØ, –Ω–∞–ø–∏—Ç–∫–∏ ü•§)
- **–¢–æ–≤–∞—Ä—ã:** 15 (12 —à–∞—É—Ä–º—ã, 3 –Ω–∞–ø–∏—Ç–∫–∞)
- **–¶–µ–Ω–æ–≤–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω:** 60‚ÇΩ - 350‚ÇΩ
- **–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ —à–∞—É—Ä–º—ã:** ~250‚ÇΩ

## üöÄ –ü–ª–∞–Ω API v1.0

### üéØ –¶–µ–ª–∏

- ‚úÖ **–ê–¥–º–∏–Ω–∫–∞** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- ‚úÖ **–õ–µ–Ω–¥–∏–Ω–≥** - –ø—É–±–ª–∏—á–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ–Ω—é
- ‚úÖ **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** - –¥–∞—à–±–æ—Ä–¥ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
- ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - health checks —Å–µ—Ä–≤–∏—Å–æ–≤

### üì° –û—Å–Ω–æ–≤–Ω—ã–µ endpoints

#### üçΩÔ∏è Menu API (–ø—É–±–ª–∏—á–Ω—ã–π)

- `GET /api/menu/categories` - —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- `GET /api/menu/items` - —Ç–æ–≤–∞—Ä—ã —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- `GET /api/menu/items/:id` - –¥–µ—Ç–∞–ª–∏ —Ç–æ–≤–∞—Ä–∞

#### üì¶ Orders API (–∞–¥–º–∏–Ω—ã)

- `GET /api/orders` - –∑–∞–∫–∞–∑—ã —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- `GET /api/orders/:id` - –¥–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞
- `GET /api/orders/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

#### üìä Analytics API (–∞–¥–º–∏–Ω—ã)

- `GET /api/analytics/dashboard` - –æ—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- `GET /api/analytics/sales` - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂
- `GET /api/analytics/items` - –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã

### üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **–ü—É–±–ª–∏—á–Ω—ã–µ endpoints** - –±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **–ê–¥–º–∏–Ω—Å–∫–∏–µ endpoints** - API –∫–ª—é—á–∏
- **Rate limiting** - 100/1000 req/min
- **CORS** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

### üèóÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Backend:** Express.js + TypeScript
- **Database:** PostgreSQL (—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è)
- **Cache:** Redis (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
- **Docs:** Swagger UI
- **Deploy:** Docker (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ç–µ–∫—É—â–∏–º)

## ‚è±Ô∏è –í—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—Ü–µ–Ω–∫–∏

### –§–∞–∑–∞ 1: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (1-2 –¥–Ω—è)

- Express —Å–µ—Ä–≤–µ—Ä —Å middleware
- Health API
- Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –§–∞–∑–∞ 2: Menu API (1 –¥–µ–Ω—å)

- –ü—É–±–ª–∏—á–Ω—ã–µ endpoints –¥–ª—è –º–µ–Ω—é
- Redis –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

### –§–∞–∑–∞ 3: Orders API (2 –¥–Ω—è)

- –ê–¥–º–∏–Ω—Å–∫–∏–µ endpoints
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—è

### –§–∞–∑–∞ 4: Analytics (1-2 –¥–Ω—è)

- –î–∞—à–±–æ—Ä–¥ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
- –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã

### –§–∞–∑–∞ 5: –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è (1 –¥–µ–Ω—å)

- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–û–±—â–µ–µ –≤—Ä–µ–º—è:** 6-8 –¥–Ω–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–£—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–ª–∞–Ω–∞** - –æ–±—Å—É–∂–¥–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è** - Express.js –≤ Docker
3. **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ —Ñ–∞–∑–∞–º** - –ø–æ—ç—Ç–∞–ø–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö endpoints
5. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è Swagger

## üìã –í—ã–≤–æ–¥—ã

### ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ API

- **–ë–î —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** - –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è API
- **–î–∞–Ω–Ω—ã–µ** - –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –∏–Ω–¥–µ–∫—Å–∞–º–∏
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –∑–∞–ª–æ–∂–µ–Ω–∞ –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ

### üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ–¥—Ö–æ–¥–∞

- **–ü–æ—ç—Ç–∞–ø–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è** - –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è —Ä–∏—Å–∫–æ–≤
- **–¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ** - –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
- **Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - —É–¥–æ–±—Å—Ç–≤–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### üìà –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª —Ä–∞–∑–≤–∏—Ç–∏—è

- **API v2.0** - POST/PUT/DELETE –æ–ø–µ—Ä–∞—Ü–∏–∏
- **WebSocket** - real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **GraphQL** - –≥–∏–±–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** - –ø–ª–∞—Ç–µ–∂–∏, –¥–æ—Å—Ç–∞–≤–∫–∞, CRM

---

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2024-01-01  
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π
