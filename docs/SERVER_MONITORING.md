# üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–Ω–∞–ª–∏–∑ VPS —Å–µ—Ä–≤–µ—Ä–∞

–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–±–æ—Ä—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ VPS —Å–µ—Ä–≤–µ—Ä–µ –∏ –∞–Ω–∞–ª–∏–∑—É –µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ Shawarma Bot.

---

## üìã –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –°–±–æ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–µ—Ä–≤–µ—Ä–µ

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh user@your-server

# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd ~/shawarma-bot/deployment

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–±–æ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
./server-info.sh
```

### 2. –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞

```bash
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ
scp user@your-server:~/shawarma-bot/deployment/server-info-*.log ./
```

### 3. –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –ª–æ–≥ —Ñ–∞–π–ª –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞ –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç—á–µ—Ç–∞.

---

## üîß –ß—Ç–æ —Å–æ–±–∏—Ä–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç server-info.sh

### üñ•Ô∏è –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–û–° –∏ —è–¥—Ä–æ** - –≤–µ—Ä—Å–∏—è Ubuntu, —è–¥—Ä–æ Linux
- **–ê–ø–ø–∞—Ä–∞—Ç–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã** - CPU, RAM, –¥–∏—Å–∫
- **–°–µ—Ç–µ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - IP –∞–¥—Ä–µ—Å–∞, DNS, –ø–æ—Ä—Ç—ã
- **–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã** - uptime, —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å

### üê≥ Docker –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- **–í–µ—Ä—Å–∏–∏** - Docker, Docker Compose
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã** - —Å—Ç–∞—Ç—É—Å, –ø–æ—Ä—Ç—ã, health checks
- **–û–±—Ä–∞–∑—ã** - —Ä–∞–∑–º–µ—Ä—ã, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ—Å—Ç–∞
- **–°–µ—Ç–∏ –∏ —Ç–æ–º–∞** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker

### üåê Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- **–°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞** - —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ nginx
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
- **–õ–æ–≥–∏** - –¥–æ—Å—Ç—É–ø –∏ –æ—à–∏–±–∫–∏
- **–ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ API

### üöÄ –ü—Ä–æ–µ–∫—Ç Shawarma Bot

- **–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞** - package.json
- **Git —Å—Ç–∞—Ç—É—Å** - –≤–µ—Ç–∫–∞, –∫–æ–º–º–∏—Ç—ã
- **–õ–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–æ–≤** - API –∏ –±–æ—Ç
- **Health checks** - —Å–æ—Å—Ç–æ—è–Ω–∏–µ API

### üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **SSH –¥–æ—Å—Ç—É–ø** - –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏
- **–§–∞–π—Ä–≤–æ–ª** - —Å—Ç–∞—Ç—É—Å ufw
- **–û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã** - —Å–ø–∏—Å–æ–∫ –ø–æ—Ä—Ç–æ–≤
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** - —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã

### üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–ó–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã** - load average
- **–ü—Ä–æ—Ü–µ—Å—Å—ã** - —Ç–æ–ø –ø–æ CPU –∏ –ø–∞–º—è—Ç–∏
- **I/O –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** - –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤** - –ø–∞–º—è—Ç—å, –¥–∏—Å–∫

---

## üîç –ê–Ω–∞–ª–∏–∑ –ª–æ–≥ —Ñ–∞–π–ª–∞

### –ü–æ–∏—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ–≥–æ –ª–æ–≥–∞
cat server-info-20241228_120000.log

# –ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ Docker
grep -A 10 "DOCKER –ò–ù–§–†–ê–°–¢–†–£–ö–¢–£–†–ê" server-info-*.log

# –ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ nginx
grep -A 5 "systemctl status nginx" server-info-*.log

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
grep -i "error\|fail\|warning" server-info-*.log

# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
grep -A 5 "docker-compose ps" server-info-*.log

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ
grep -A 3 "package.json" server-info-*.log
```

### –ö–ª—é—á–µ–≤—ã–µ —Ä–∞–∑–¥–µ–ª—ã –≤ –ª–æ–≥–µ

| –†–∞–∑–¥–µ–ª                          | –ß—Ç–æ –∏—Å–∫–∞—Ç—å                        |
| ------------------------------- | --------------------------------- |
| `–û–°–ù–û–í–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –°–ò–°–¢–ï–ú–ï` | –û–°, —è–¥—Ä–æ, hostname, uptime        |
| `–ê–ü–ü–ê–†–ê–¢–ù–´–ï –†–ï–°–£–†–°–´`            | CPU, RAM, –¥–∏—Å–∫, swap              |
| `DOCKER –ò–ù–§–†–ê–°–¢–†–£–ö–¢–£–†–ê`         | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –æ–±—Ä–∞–∑—ã, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
| `NGINX –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø`            | –°—Ç–∞—Ç—É—Å, –≤–µ—Ä—Å–∏—è, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è      |
| `–ü–†–û–ï–ö–¢ SHAWARMA BOT`           | –í–µ—Ä—Å–∏—è, Git —Å—Ç–∞—Ç—É—Å, –ª–æ–≥–∏          |
| `–ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨`                  | SSH, —Ñ–∞–π—Ä–≤–æ–ª, –ø–æ—Ä—Ç—ã               |
| `API –ü–†–û–í–ï–†–ö–ò`                  | Health check —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã           |

---

## üìä –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```bash
# –†–∞–∑–º–µ—Ä –ª–æ–≥–∞
du -h server-info-*.log

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫
wc -l server-info-*.log

# –ó–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã
grep "load average" server-info-*.log

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
grep -A 5 "free -h" server-info-*.log

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
grep -A 10 "df -h" server-info-*.log

# –¢–æ–ø –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
grep -A 10 "ps aux --sort" server-info-*.log
```

### –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ø—Ä–æ–±–ª–µ–º

üî¥ **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:**

- Load average > –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ CPU —è–¥–µ—Ä
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAM > 90%
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞ > 85%
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ —Å—Ç–∞—Ç—É—Å–µ "Exited" –∏–ª–∏ "Unhealthy"

üü° **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:**

- Load average > 0.7 \* –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —è–¥–µ—Ä
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAM > 70%
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞ > 70%
- –û—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö nginx

‚úÖ **–ù–æ—Ä–º–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**

- Load average < 0.5 \* –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —è–¥–µ—Ä
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAM < 60%
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞ < 50%
- –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã "healthy"

---

## ‚ö†Ô∏è –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –°–∫—Ä–∏–ø—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –î–∞—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
chmod +x server-info.sh

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
which curl docker docker-compose
```

### –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ Docker

```bash
# –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É docker
sudo usermod -aG docker $USER

# –ü–µ—Ä–µ–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å
newgrp docker
```

### –ë–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä –ª–æ–≥–∞

```bash
# –°–∂–∞—Ç—å –ª–æ–≥ –ø–µ—Ä–µ–¥ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ–º
gzip server-info-*.log

# –°–∫–∞—á–∞—Ç—å —Å–∂–∞—Ç—ã–π —Ñ–∞–π–ª
scp user@server:~/shawarma-bot/deployment/server-info-*.log.gz ./

# –†–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ
gunzip server-info-*.log.gz
```

### –û—à–∏–±–∫–∏ –≤ –ª–æ–≥–µ

```bash
# –ù–∞–π—Ç–∏ –≤—Å–µ –æ—à–∏–±–∫–∏
grep "‚ùå –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã" server-info-*.log

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∫–æ–º–∞–Ω–¥
which htop iotop iostat ufw
```

---

## üìù –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞

### –®–∞–±–ª–æ–Ω –∞–Ω–∞–ª–∏–∑–∞

1. **–û—Ç–∫—Ä–æ–π—Ç–µ** `docs/VPS_ANALYSIS.md` –∫–∞–∫ –ø—Ä–∏–º–µ—Ä
2. **–ù–∞–π–¥–∏—Ç–µ** —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ä–∞–∑–¥–µ–ª—ã –≤ –ª–æ–≥ —Ñ–∞–π–ª–µ
3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ** –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
4. **–î–æ–±–∞–≤—å—Ç–µ** —Å–≤–æ–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
5. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ** –¥–æ–∫—É–º–µ–Ω—Ç –¥–ª—è –∫–æ–º–∞–Ω–¥—ã

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤

```bash
# –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
#!/bin/bash
DATE=$(date +%Y%m%d_%H%M%S)
LOG_FILE="server-analysis-$DATE.log"

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∞–ª–∏–∑
./server-info.sh > $LOG_FILE

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç—á–µ—Ç
mail -s "Server Analysis $DATE" admin@company.com < $LOG_FILE
```

---

## üîÑ –†–µ–≥—É–ª—è—Ä–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –ø–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å

- **–ï–∂–µ–¥–Ω–µ–≤–Ω–æ:** Health checks API
- **–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ:** –ë—ã—Å—Ç—Ä—ã–π –∞–Ω–∞–ª–∏–∑ —Ä–µ—Å—É—Ä—Å–æ–≤
- **–ï–∂–µ–º–µ—Å—è—á–Ω–æ:** –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å–µ—Ä–≤–µ—Ä–∞
- **–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö:** –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ cron

```bash
# –î–æ–±–∞–≤–∏—Ç—å –≤ crontab
crontab -e

# –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ 2:00
0 2 * * * cd ~/shawarma-bot/deployment && ./server-info.sh > /tmp/daily-check.log

# –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ –≤ 3:00
0 3 * * 0 cd ~/shawarma-bot/deployment && ./server-info.sh > ~/weekly-analysis-$(date +\%Y\%m\%d).log
```

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞

### –ö–ª—é—á–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

```bash
# CPU Load (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å < –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —è–¥–µ—Ä)
grep "load average" server-info-*.log | awk '{print $3}'

# Memory Usage (–≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö)
grep "Mem:" server-info-*.log | awk '{print ($3/$2)*100}'

# Disk Usage (–≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö)
grep "/$" server-info-*.log | awk '{print $5}' | sed 's/%//'

# Container Health
grep "healthy" server-info-*.log | wc -l
```

### –ê–ª–µ—Ä—Ç—ã

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π:

- CPU Load > 2.0
- Memory > 80%
- Disk > 85%
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ healthy

---

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–Ω–∞–ª–∏–∑–∞:** ~2-3 –º–∏–Ω—É—Ç—ã  
**–†–∞–∑–º–µ—Ä –ª–æ–≥–∞:** –æ–±—ã—á–Ω–æ 50-200KB  
**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –ø–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å:** —Ä–∞–∑ –≤ –º–µ—Å—è—Ü –∏–ª–∏ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö
