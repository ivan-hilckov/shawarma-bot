<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>üåØ –®–∞—É—Ä–º–∞ –æ—Ç –†–∞–π—Ö–∞–Ω–∞</title>
  <meta name="description" content="–õ—É—á—à–∞—è —à–∞—É—Ä–º–∞ –≤ –≥–æ—Ä–æ–¥–µ! –ó–∞–∫–∞–∂–∏—Ç–µ –ø—Ä—è–º–æ –≤ Telegram.">

  <!-- Telegram Web App SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--tg-theme-bg-color, #ffffff);
      color: var(--tg-theme-text-color, #333333);
      min-height: 100vh;
      line-height: 1.5;
      padding: 0;
      margin: 0;
    }

    .container {
      max-width: 100%;
      padding: 20px;
    }

    /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
    .nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: var(--tg-theme-bg-color, #ffffff);
      border-bottom: 1px solid var(--tg-theme-hint-color, #e5e5e5);
      z-index: 100;
      padding: 10px 0;
    }

    .nav-buttons {
      display: flex;
      justify-content: center;
      gap: 10px;
      padding: 0 20px;
    }

    .nav-button {
      background: var(--tg-theme-button-color, #007AFF);
      color: var(--tg-theme-button-text-color, #ffffff);
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: opacity 0.2s;
      flex: 1;
      max-width: 120px;
    }

    .nav-button:hover {
      opacity: 0.8;
    }

    .nav-button.active {
      background: var(--tg-theme-secondary-bg-color, #f0f0f0);
      color: var(--tg-theme-text-color, #333333);
    }

    /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
    .main-content {
      margin-top: 70px;
      padding-bottom: 20px;
    }

    .page {
      display: none;
    }

    .page.active {
      display: block;
    }

    /* –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ */
    .hero {
      text-align: center;
      padding: 30px 0;
      background: linear-gradient(135deg, var(--tg-theme-button-color, #007AFF) 0%, var(--tg-theme-link-color, #0066CC) 100%);
      color: white;
      margin: -20px -20px 30px -20px;
    }

    .hero h1 {
      font-size: 2rem;
      margin-bottom: 10px;
      font-weight: bold;
    }

    .hero p {
      font-size: 1rem;
      opacity: 0.9;
      margin-bottom: 20px;
    }

    .menu-grid {
      display: grid;
      gap: 15px;
      margin-top: 20px;
    }

    .menu-category {
      background: var(--tg-theme-secondary-bg-color, #f8f8f8);
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      cursor: pointer;
      transition: transform 0.2s;
      border: 1px solid var(--tg-theme-hint-color, #e5e5e5);
    }

    .menu-category:hover {
      transform: translateY(-2px);
    }

    .menu-category h3 {
      font-size: 1.2rem;
      margin-bottom: 10px;
      color: var(--tg-theme-text-color, #333333);
    }

    .menu-category p {
      color: var(--tg-theme-hint-color, #666666);
      font-size: 0.9rem;
    }

    /* –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ */
    .orders-container {
      margin-top: 20px;
    }

    .order-card {
      background: var(--tg-theme-secondary-bg-color, #f8f8f8);
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 15px;
      border: 1px solid var(--tg-theme-hint-color, #e5e5e5);
    }

    .order-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }

    .order-id {
      font-weight: bold;
      color: var(--tg-theme-text-color, #333333);
    }

    .order-status {
      padding: 4px 8px;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 500;
    }

    .status-pending {
      background: #FFF3CD;
      color: #856404;
    }

    .status-confirmed {
      background: #D4EDDA;
      color: #155724;
    }

    .status-ready {
      background: #D1ECF1;
      color: #0C5460;
    }

    .order-details {
      color: var(--tg-theme-hint-color, #666666);
      font-size: 0.9rem;
    }

    .order-total {
      font-weight: bold;
      color: var(--tg-theme-text-color, #333333);
      margin-top: 10px;
    }

    .empty-state {
      text-align: center;
      padding: 40px 20px;
      color: var(--tg-theme-hint-color, #666666);
    }

    .empty-state h3 {
      margin-bottom: 10px;
      color: var(--tg-theme-text-color, #333333);
    }

    /* –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π */
    .action-button {
      background: var(--tg-theme-button-color, #007AFF);
      color: var(--tg-theme-button-text-color, #ffffff);
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 500;
      cursor: pointer;
      width: 100%;
      margin-top: 20px;
      transition: opacity 0.2s;
    }

    .action-button:hover {
      opacity: 0.8;
    }

    .action-button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
    @media (max-width: 480px) {
      .hero h1 {
        font-size: 1.5rem;
      }

      .container {
        padding: 15px;
      }

      .nav-button {
        padding: 8px 16px;
        font-size: 13px;
      }
    }
  </style>
</head>

<body>
  <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
  <nav class="nav">
    <div class="nav-buttons">
      <button class="nav-button active" onclick="showPage('page-main')">üè† –ì–ª–∞–≤–Ω–∞—è</button>
      <button class="nav-button" onclick="showPage('page-orders')">üìã –ú–æ–∏ –∑–∞–∫–∞–∑—ã</button>
    </div>
  </nav>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
  <div class="main-content">
    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–ì–ª–∞–≤–Ω–∞—è" -->
    <div id="page-main" class="page active">
      <div class="container">
        <div class="hero">
          <h1>üåØ –®–∞—É—Ä–º–∞ –æ—Ç –†–∞–π—Ö–∞–Ω–∞</h1>
          <p>–õ—É—á—à–∞—è —à–∞—É—Ä–º–∞ –≤ –≥–æ—Ä–æ–¥–µ!<br>–°–≤–µ–∂–∏–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã, –±—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞</p>
        </div>

        <div class="menu-grid">
          <div class="menu-category" onclick="openCategory('shawarma')">
            <h3>üåØ –®–∞—É—Ä–º–∞</h3>
            <p>–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è, –≤–µ–≥–µ—Ç–∞—Ä–∏–∞–Ω—Å–∫–∞—è, –≤ —Å—ã—Ä–Ω–æ–º –ª–∞–≤–∞—à–µ</p>
          </div>

          <div class="menu-category" onclick="openCategory('drinks')">
            <h3>ü•§ –ù–∞–ø–∏—Ç–∫–∏</h3>
            <p>–ì–∞–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞–ø–∏—Ç–∫–∏, —Å–æ–∫–∏, –≤–æ–¥–∞</p>
          </div>

          <div class="menu-category" onclick="openCategory('cart')">
            <h3>üõí –ö–æ—Ä–∑–∏–Ω–∞</h3>
            <p>–í–∞—à–∏ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã</p>
          </div>
        </div>

        <button class="action-button" onclick="testTelegramData()">
          üì± –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ Telegram
        </button>
      </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤" -->
    <div id="page-orders" class="page">
      <div class="container">
        <h2>üìã –ú–æ–∏ –∑–∞–∫–∞–∑—ã</h2>

        <div class="orders-container" id="orders-list">
          <!-- –ó–∞–∫–∞–∑—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>

        <button class="action-button" onclick="loadOrders()">
          üîÑ –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–∫–∞–∑—ã
        </button>
      </div>
    </div>
  </div>

  <script>
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
    const tg = window.Telegram?.WebApp;

    // –†–∞—Å—à–∏—Ä—è–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
    if (tg) {
      tg.ready();
      tg.expand();

      // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ü–≤–µ—Ç–∞ —Ç–µ–º—ã
      document.documentElement.style.setProperty('--tg-theme-bg-color', tg.themeParams.bg_color || '#ffffff');
      document.documentElement.style.setProperty('--tg-theme-text-color', tg.themeParams.text_color || '#333333');
      document.documentElement.style.setProperty('--tg-theme-button-color', tg.themeParams.button_color || '#007AFF');
      document.documentElement.style.setProperty('--tg-theme-button-text-color', tg.themeParams.button_text_color || '#ffffff');
      document.documentElement.style.setProperty('--tg-theme-secondary-bg-color', tg.themeParams.secondary_bg_color || '#f8f8f8');
      document.documentElement.style.setProperty('--tg-theme-hint-color', tg.themeParams.hint_color || '#999999');
      document.documentElement.style.setProperty('--tg-theme-link-color', tg.themeParams.link_color || '#0066CC');

      console.log('Telegram Web App –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω:', tg.initData);
    }

    // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü
    function showPage(pageId) {
      // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
      document.querySelectorAll('.page').forEach(page => {
        page.classList.remove('active');
      });

      // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å –∫–Ω–æ–ø–æ–∫ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
      document.querySelectorAll('.nav-button').forEach(btn => {
        btn.classList.remove('active');
      });

      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
      document.getElementById(pageId).classList.add('active');

      // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∫–Ω–æ–ø–∫—É –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
      const activeButton = pageId === 'page-main' ? 0 : 1;
      document.querySelectorAll('.nav-button')[activeButton].classList.add('active');

      // –û–±–Ω–æ–≤–ª—è–µ–º URL hash (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
      const hashMap = {
        'page-main': '#main',
        'page-orders': '#orders'
      };
      location.hash = hashMap[pageId] || '#main';

      // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
      if (pageId === 'page-orders') {
        loadOrders();
      }
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    document.addEventListener('DOMContentLoaded', function () {
      // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å—Ç–∞—Ä—Ç–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ hash
      const defaultPage = location.hash === '#orders' ? 'page-orders' : 'page-main';
      showPage(defaultPage);

      // –°–ª—É—à–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è hash
      window.addEventListener('hashchange', () => {
        if (location.hash === '#orders') {
          showPage('page-orders');
        } else {
          showPage('page-main');
        }
      });
    });

    // –§—É–Ω–∫—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–∑–∞–≥–ª—É—à–∫–∞)
    function openCategory(category) {
      if (tg) {
        tg.showAlert(`–û—Ç–∫—Ä—ã–≤–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏—é: ${category}\n\n–í –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –º–µ–Ω—é —Ç–æ–≤–∞—Ä–æ–≤.`);
      } else {
        alert(`–û—Ç–∫—Ä—ã–≤–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏—é: ${category}`);
      }
    }

    // –§—É–Ω–∫—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö Telegram
    function testTelegramData() {
      if (tg) {
        const user = tg.initDataUnsafe?.user;
        const message = user
          ? `–ü—Ä–∏–≤–µ—Ç, ${user.first_name}!\n\n–¢–≤–æ–π ID: ${user.id}\nUsername: ${user.username || '–Ω–µ —É–∫–∞–∑–∞–Ω'}\n–ü—Ä–µ–º–∏—É–º: ${user.is_premium ? '–¥–∞' : '–Ω–µ—Ç'}`
          : '–î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã';

        tg.showAlert(message);
      } else {
        alert('Telegram Web App SDK –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.\n–í–æ–∑–º–æ–∂–Ω–æ, –≤—ã –æ—Ç–∫—Ä—ã–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–µ –≤ Telegram.');
      }
    }

    // –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–∫–∞–∑–æ–≤
    function loadOrders() {
      const ordersList = document.getElementById('orders-list');

      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
      ordersList.innerHTML = '<div style="text-align: center; padding: 20px;">üîÑ –ó–∞–≥—Ä—É–∑–∫–∞...</div>';

      // –ò–º–∏—Ç–∏—Ä—É–µ–º –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö
      setTimeout(() => {
        // –ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤
        const mockOrders = [
          {
            id: '12345',
            status: 'confirmed',
            items: ['–®–∞—É—Ä–º–∞ –∫–ª–∞—Å—Å–∏–∫ –±–æ–ª—å—à–∞—è', '–ö–æ–ª–∞'],
            total: 370,
            date: '2025-01-01 14:30'
          },
          {
            id: '12346',
            status: 'ready',
            items: ['–®–∞—É—Ä–º–∞ –≤–µ–≥–µ—Ç–∞—Ä–∏–∞–Ω—Å–∫–∞—è', '–°–æ–∫ –∞–ø–µ–ª—å—Å–∏–Ω–æ–≤—ã–π'],
            total: 340,
            date: '2025-01-01 15:15'
          }
        ];

        if (mockOrders.length === 0) {
          ordersList.innerHTML = `
            <div class="empty-state">
              <h3>üì≠ –ó–∞–∫–∞–∑–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</h3>
              <p>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –º–µ–Ω—é –∏ –æ—Ñ–æ—Ä–º–∏—Ç–µ –ø–µ—Ä–≤—ã–π –∑–∞–∫–∞–∑!</p>
            </div>
          `;
        } else {
          ordersList.innerHTML = mockOrders.map(order => `
            <div class="order-card">
              <div class="order-header">
                <span class="order-id">–ó–∞–∫–∞–∑ #${order.id}</span>
                <span class="order-status status-${order.status}">
                  ${getStatusText(order.status)}
                </span>
              </div>
              <div class="order-details">
                üìÖ ${order.date}<br>
                üõí ${order.items.join(', ')}
              </div>
              <div class="order-total">üí∞ ${order.total}‚ÇΩ</div>
            </div>
          `).join('');
        }
      }, 1000);
    }

    // –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ —Å—Ç–∞—Ç—É—Å–∞
    function getStatusText(status) {
      const statusMap = {
        'pending': '‚è≥ –í –æ–∂–∏–¥–∞–Ω–∏–∏',
        'confirmed': '‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω',
        'preparing': 'üë®‚Äçüç≥ –ì–æ—Ç–æ–≤–∏—Ç—Å—è',
        'ready': 'üéâ –ì–æ—Ç–æ–≤',
        'delivered': '‚úÖ –î–æ—Å—Ç–∞–≤–ª–µ–Ω'
      };
      return statusMap[status] || '‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
    }

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–µ–º—ã
    if (tg) {
      tg.onEvent('themeChanged', () => {
        console.log('–¢–µ–º–∞ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å');
        // –ú–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
      });
    }
  </script>
</body>

</html>
